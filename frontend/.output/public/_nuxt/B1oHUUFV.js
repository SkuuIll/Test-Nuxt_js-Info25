import{d as V,s as T,I as x,E as N,e as U,u as E,c as m,f as t,g as i,a as p,w as y,m as q,z as g,n as o,v as n,h as a,G as h,t as _,_ as B,o as u}from"./BE3ND16f.js";import{_ as A}from"./9ykhWItT.js";const M={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"},S={class:"max-w-md w-full space-y-8"},j={class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400"},z={class:"space-y-4"},D={class:"grid grid-cols-2 gap-4"},H={class:"flex items-center"},I={for:"accept-terms",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"},L=["disabled"],R={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},F={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-4"},G={class:"text-sm text-red-700 dark:text-red-400"},P=V({__name:"register",setup(O){const{register:b,loading:l,error:c,handleSuccessfulRegistration:w}=T(),{handleError:$}=x(),s=N({username:"",email:"",password:"",password_confirm:"",first_name:"",last_name:"",acceptTerms:!1}),k=U(()=>s.username&&s.email&&s.password&&s.password_confirm&&s.password===s.password_confirm&&s.acceptTerms),v=async()=>{if(s.password!==s.password_confirm){const{handleError:d}=x();d("Las contraseñas no coinciden");return}try{await b({username:s.username,email:s.email,password:s.password,password_confirm:s.password_confirm,first_name:s.first_name,last_name:s.last_name,terms_accepted:s.acceptTerms}),await w("/")}catch{}};return E({title:"Crear Cuenta - Blog de Noticias",meta:[{name:"description",content:"Crea tu cuenta gratuita para acceder a contenido exclusivo y personalizado."}]}),(d,e)=>{const f=B,C=A;return u(),m("div",M,[t("div",S,[t("div",null,[e[9]||(e[9]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"}," Crear Cuenta ",-1)),t("p",j,[e[8]||(e[8]=i(" O ",-1)),p(f,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:y(()=>e[7]||(e[7]=[i(" inicia sesión con tu cuenta existente ",-1)])),_:1,__:[7]})])]),t("form",{class:"mt-8 space-y-6",onSubmit:q(v,["prevent"])},[t("div",z,[t("div",D,[t("div",null,[e[10]||(e[10]=t("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nombre ",-1)),o(t("input",{id:"first_name","onUpdate:modelValue":e[0]||(e[0]=r=>a(s).first_name=r),name:"first_name",type:"text",class:"mt-1 input",placeholder:"Tu nombre"},null,512),[[n,a(s).first_name]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Apellido ",-1)),o(t("input",{id:"last_name","onUpdate:modelValue":e[1]||(e[1]=r=>a(s).last_name=r),name:"last_name",type:"text",class:"mt-1 input",placeholder:"Tu apellido"},null,512),[[n,a(s).last_name]])])]),t("div",null,[e[12]||(e[12]=t("label",{for:"username",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Usuario * ",-1)),o(t("input",{id:"username","onUpdate:modelValue":e[2]||(e[2]=r=>a(s).username=r),name:"username",type:"text",required:"",class:"mt-1 input",placeholder:"Nombre de usuario"},null,512),[[n,a(s).username]])]),t("div",null,[e[13]||(e[13]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email * ",-1)),o(t("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=r=>a(s).email=r),name:"email",type:"email",required:"",class:"mt-1 input",placeholder:"tu@email.com"},null,512),[[n,a(s).email]])]),t("div",null,[e[14]||(e[14]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Contraseña * ",-1)),o(t("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=r=>a(s).password=r),name:"password",type:"password",required:"",class:"mt-1 input",placeholder:"Contraseña segura"},null,512),[[n,a(s).password]])]),t("div",null,[e[15]||(e[15]=t("label",{for:"password_confirm",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Confirmar Contraseña * ",-1)),o(t("input",{id:"password_confirm","onUpdate:modelValue":e[5]||(e[5]=r=>a(s).password_confirm=r),name:"password_confirm",type:"password",required:"",class:"mt-1 input",placeholder:"Confirma tu contraseña"},null,512),[[n,a(s).password_confirm]])])]),t("div",H,[o(t("input",{id:"accept-terms","onUpdate:modelValue":e[6]||(e[6]=r=>a(s).acceptTerms=r),name:"accept-terms",type:"checkbox",required:"",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded"},null,512),[[h,a(s).acceptTerms]]),t("label",I,[e[17]||(e[17]=i(" Acepto los ",-1)),p(f,{to:"/terms",class:"text-primary-600 hover:text-primary-500"},{default:y(()=>e[16]||(e[16]=[i(" términos y condiciones ",-1)])),_:1,__:[16]})])]),t("div",null,[t("button",{type:"submit",disabled:a(l)||!a(k),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[a(l)?(u(),m("span",R,[p(C,{name:"loading",class:"h-5 w-5 text-primary-500 animate-spin"})])):g("",!0),i(" "+_(a(l)?"Creando cuenta...":"Crear Cuenta"),1)],8,L)]),a(c)?(u(),m("div",F,[t("div",G,_(a(c)),1)])):g("",!0)],32)])])}}});export{P as default};
