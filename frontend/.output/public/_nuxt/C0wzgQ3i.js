import{_ as v}from"./9ykhWItT.js";import{d as k,s as b,j as w,K as A,r as C,u as E,c as o,f as e,F as U,k as $,h as m,o as d,t as i,L as c,z as j,a as _}from"./BE3ND16f.js";const S={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},D={class:"container mx-auto px-4 py-8"},T={class:"max-w-7xl mx-auto"},N={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Z={class:"overflow-x-auto"},B={class:"w-full"},L={class:"divide-y divide-gray-200 dark:divide-gray-700"},V={class:"px-6 py-4"},q={class:"flex items-center"},z={class:"flex-shrink-0 h-10 w-10"},F={class:"h-10 w-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-medium"},G={class:"ml-4"},I={class:"text-sm font-medium text-gray-900 dark:text-white"},R={class:"text-sm text-gray-500 dark:text-gray-400"},H={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap"},M={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},P={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},J={class:"flex items-center space-x-2"},O=["onClick"],Q=["onClick","title"],ee=k({__name:"users",setup(W){var u;const{user:l}=b(),{$toast:n}=w();if(!((u=l.value)!=null&&u.is_staff))throw A({statusCode:403,statusMessage:"Acceso denegado"});const g=C([{id:1,username:"admin",email:"admin@test.com",is_superuser:!0,is_staff:!0,is_active:!0,date_joined:"2025-01-01T00:00:00Z"},{id:2,username:"editor",email:"editor@test.com",is_superuser:!1,is_staff:!0,is_active:!0,date_joined:"2025-01-15T10:30:00Z"},{id:3,username:"usuario1",email:"usuario1@test.com",is_superuser:!1,is_staff:!1,is_active:!0,date_joined:"2025-01-20T14:15:00Z"},{id:4,username:"usuario2",email:"usuario2@test.com",is_superuser:!1,is_staff:!1,is_active:!1,date_joined:"2025-01-25T09:45:00Z"}]),p=s=>{n.info(`Editar usuario: ${s.username}`)},f=async s=>{const a=s.is_active?"desactivar":"activar";if(confirm(`¿Estás seguro de que quieres ${a} a ${s.username}?`))try{await new Promise(r=>setTimeout(r,500)),s.is_active=!s.is_active,n.success(`Usuario ${s.is_active?"activado":"desactivado"} exitosamente`)}catch(r){console.error("Error toggling user status:",r),n.error("Error al cambiar el estado del usuario")}},h=s=>new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"});return E({title:"Gestionar Usuarios - Admin",meta:[{name:"description",content:"Administra las cuentas de usuario del blog"}]}),(s,a)=>{const r=v;return d(),o("div",S,[e("div",D,[e("div",T,[a[1]||(a[1]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Gestionar Usuarios "),e("p",{class:"text-gray-600 dark:text-gray-400 mt-2"}," Administra las cuentas de usuario del blog ")],-1)),e("div",N,[e("div",Z,[e("table",B,[a[0]||(a[0]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Usuario "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Rol "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Estado "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Registro "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Acciones ")])],-1)),e("tbody",L,[(d(!0),o(U,null,$(m(g),t=>{var x;return d(),o("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",V,[e("div",q,[e("div",z,[e("div",F,i(t.username.charAt(0).toUpperCase()),1)]),e("div",G,[e("div",I,i(t.username),1),e("div",R,i(t.email),1)])])]),e("td",H,[e("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.is_superuser?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t.is_staff?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"])},i(t.is_superuser?"Superusuario":t.is_staff?"Staff":"Usuario"),3)]),e("td",K,[e("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},i(t.is_active?"Activo":"Inactivo"),3)]),e("td",M,i(h(t.date_joined)),1),e("td",P,[e("div",J,[e("button",{onClick:y=>p(t),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Editar usuario"},[_(r,{name:"pencil",class:"w-4 h-4"})],8,O),t.id!==((x=m(l))==null?void 0:x.id)?(d(),o("button",{key:0,onClick:y=>f(t),class:c([t.is_active?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"]),title:t.is_active?"Desactivar usuario":"Activar usuario"},[_(r,{name:t.is_active?"x-circle":"check-circle",class:"w-4 h-4"},null,8,["name"])],10,Q)):j("",!0)])])])}),128))])])])])])])])}}});export{ee as default};
