import{a as v,_ as b,u as N}from"./D0J4bnbB.js";import{d as C,c as l,o as a,f as s,a as c,z as d,h as p,w as h,g as m,t as o,m as _,_ as D,F as $,k as B,l as I,i as U}from"./BE3ND16f.js";import{_ as S}from"./9ykhWItT.js";const V=t=>typeof t=="string"&&t.length>0&&t!=="undefined"&&t!=="null"&&t!=="NaN"&&!t.includes("undefined")&&!t.includes("null"),E=t=>{const r=Number(t);return!isNaN(r)&&r>0&&t!=="undefined"&&t!=="null"},L=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),A=t=>{if(V(t.slug))return`/posts/${t.slug}`;if(E(t.id))return`/posts/${t.id}`;if(t.title){const r=L(t.title);if(r)return console.warn("⚠️ Usando slug generado para post:",{title:t.title,slug:r}),`/posts/${r}`}return console.error("❌ No se pudo crear URL para post:",t),"/"},T={class:"card group cursor-pointer"},j={class:"relative overflow-hidden rounded-t-lg"},M={key:0,class:"absolute top-3 left-3"},P={class:"absolute top-3 right-3"},z={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-black/50 text-white"},F={class:"p-6"},H={class:"text-xl font-semibold text-gray-900 dark:text-white mb-3 line-clamp-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-200"},R={key:0,class:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3"},q={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400"},G={class:"flex items-center space-x-4"},J={key:0,class:"flex items-center space-x-2"},K={class:"w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center text-white text-xs font-medium"},O={key:1,class:"flex items-center space-x-1"},Q=["datetime"],W={class:"flex items-center space-x-1"},X={key:1,class:"mt-4 flex flex-wrap gap-2"},Y={key:0,class:"text-xs text-gray-500"},Z=C({__name:"PostCard",props:{post:{},showExcerpt:{type:Boolean,default:!0},showCategory:{type:Boolean,default:!0},showAuthor:{type:Boolean,default:!0},showDate:{type:Boolean,default:!0}},setup(t){const{getImageUrl:r,getPlaceholderUrl:y}=v(),{getAuthorInitials:x,getAuthorDisplayName:w}=N(),k=e=>{const i=new Date(e),u=Math.abs(new Date().getTime()-i.getTime()),n=Math.ceil(u/(1e3*60*60*24));return n===1?"Hace 1 día":n<7?`Hace ${n} días`:i.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})};return(e,i)=>{const f=b,u=D,n=S;return a(),l("article",T,[s("div",j,[c(f,{src:p(r)(e.post),alt:e.post.title||e.post.titulo,"fallback-src":p(y)("post"),"aspect-ratio":"16/9","image-container-class":"w-full h-48","image-class":"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105","lazy-loading":!0,"error-message":"Error al cargar imagen del artículo"},null,8,["src","alt","fallback-src"]),e.showCategory?(a(),l("div",M,[c(u,{to:`/category/${e.post.category.slug}`,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 text-gray-900 hover:bg-white transition-colors duration-200",onClick:i[0]||(i[0]=_(()=>{},["stop"]))},{default:h(()=>[m(o(e.post.category.name),1)]),_:1},8,["to"])])):d("",!0),s("div",P,[s("span",z,[c(n,{name:"clock",class:"w-3 h-3 mr-1"}),m(" "+o(e.post.reading_time)+" min ",1)])])]),s("div",F,[s("h2",H,[c(u,{to:p(A)(e.post),class:"hover:underline"},{default:h(()=>[m(o(e.post.title),1)]),_:1},8,["to"])]),e.showExcerpt?(a(),l("p",R,o(e.post.excerpt),1)):d("",!0),s("div",q,[s("div",G,[e.showAuthor?(a(),l("div",J,[s("div",K,o(p(x)(e.post.author)),1),s("span",null,o(p(w)(e.post.author)),1)])):d("",!0),e.showDate?(a(),l("div",O,[c(n,{name:"calendar",class:"w-4 h-4"}),s("time",{datetime:e.post.published_at||e.post.created_at},o(k(e.post.published_at||e.post.created_at)),9,Q)])):d("",!0)]),s("div",W,[c(n,{name:"chat",class:"w-4 h-4"}),s("span",null,o(e.post.comments_count),1)])]),e.post.tags&&e.post.tags.length>0?(a(),l("div",X,[(a(!0),l($,null,B(e.post.tags.slice(0,3),g=>(a(),I(u,{key:g.id,to:`/tag/${g.slug}`,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-100 dark:hover:bg-primary-900 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200",onClick:i[1]||(i[1]=_(()=>{},["stop"]))},{default:h(()=>[c(n,{name:"tag",class:"w-3 h-3 mr-1"}),m(" "+o(g.name),1)]),_:2},1032,["to"]))),128)),e.post.tags.length>3?(a(),l("span",Y," +"+o(e.post.tags.length-3)+" más ",1)):d("",!0)])):d("",!0)])])}}}),oe=U(Z,[["__scopeId","data-v-a020d468"]]);export{oe as _};
