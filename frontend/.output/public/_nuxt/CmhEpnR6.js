import{_ as M}from"./DX5PA3XH.js";import{_ as S}from"./CW8f94Lj.js";import{_ as N}from"./9ykhWItT.js";import{d as T,r as V,y as $,c as t,z as s,F as i,k as d,a as c,f as g,t as p,w as D,l as r,g as f,_ as P,o,D as E}from"./BE3ND16f.js";import{u as I}from"./CxMQz_G8.js";const A={class:"space-y-8"},F={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},L={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},j={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},x={key:3,class:"text-center py-12"},z={class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},G={class:"text-gray-600 dark:text-gray-400 mb-6"},O={key:4,class:"text-center"},U=["disabled"],W=T({__name:"PostGrid",props:{posts:{},loading:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},infiniteScroll:{type:Boolean,default:!0},showExcerpt:{type:Boolean,default:!0},showCategory:{type:Boolean,default:!0},showAuthor:{type:Boolean,default:!0},showDate:{type:Boolean,default:!0},skeletonCount:{default:6},emptyTitle:{default:"No hay artículos disponibles"},emptyMessage:{default:"No se encontraron artículos en este momento."}},emits:["load-more"],setup(_,{emit:k}){const a=_,w=k,u=V(),C=e=>{if(!e||e==="undefined"||e==="null"){console.error("❌ Intento de navegación con slug inválido:",e);return}E(`/posts/${e}`)},m=()=>{!a.loading&&a.hasMore&&w("load-more")},{stop:v}=I(u,([{isIntersecting:e}])=>{e&&a.infiniteScroll&&a.hasMore&&!a.loading&&m()},{threshold:.1,rootMargin:"100px"});return $(()=>{v()}),(e,h)=>{const b=M,y=S,l=N,B=P;return o(),t("div",A,[e.posts.length>0?(o(),t("div",F,[(o(!0),t(i,null,d(e.posts,n=>(o(),r(b,{key:n.id,post:n,"show-excerpt":e.showExcerpt,"show-category":e.showCategory,"show-author":e.showAuthor,"show-date":e.showDate,onClick:q=>C(n.slug)},null,8,["post","show-excerpt","show-category","show-author","show-date","onClick"]))),128))])):s("",!0),e.loading&&e.posts.length===0?(o(),t("div",L,[(o(!0),t(i,null,d(e.skeletonCount,n=>(o(),r(y,{key:n}))),128))])):s("",!0),e.loading&&e.posts.length>0?(o(),t("div",j,[(o(),t(i,null,d(3,n=>c(y,{key:`loading-${n}`})),64))])):s("",!0),!e.loading&&e.posts.length===0?(o(),t("div",x,[c(l,{name:"newspaper",class:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-600 mb-4"}),g("h3",z,p(e.emptyTitle),1),g("p",G,p(e.emptyMessage),1),c(B,{to:"/",class:"btn btn-primary"},{default:D(()=>h[0]||(h[0]=[f(" Ver todos los artículos ",-1)])),_:1,__:[0]})])):s("",!0),e.hasMore&&!e.infiniteScroll&&e.posts.length>0?(o(),t("div",O,[g("button",{disabled:e.loading,class:"btn btn-secondary",onClick:m},[e.loading?(o(),r(l,{key:0,name:"loading",class:"w-4 h-4 animate-spin mr-2"})):s("",!0),f(" "+p(e.loading?"Cargando...":"Cargar más artículos"),1)],8,U)])):s("",!0),e.infiniteScroll&&e.hasMore?(o(),t("div",{key:5,ref_key:"infiniteScrollTrigger",ref:u,class:"h-10 flex items-center justify-center"},[e.loading?(o(),r(l,{key:0,name:"loading",class:"w-6 h-6 animate-spin text-primary-600"})):s("",!0)],512)):s("",!0)])}}});export{W as _};
