import{d as $,e as p,W as r,c as i,o as s,f as t,z as l,L as d,h as m,l as B,a6 as D,t as c,g as T,m as h,i as E}from"./BE3ND16f.js";const j={class:"flex items-start space-x-3"},S={class:"flex-shrink-0"},L={class:"flex-1 min-w-0"},V={class:"flex items-start justify-between"},N={class:"flex-1"},U={class:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2"},z={class:"flex items-center mt-2 space-x-2 text-xs text-gray-500 dark:text-gray-400"},A={key:0},H={key:2,class:"inline-flex items-center text-orange-600 dark:text-orange-400",title:"Expira pronto"},W={class:"flex items-center space-x-1 ml-2"},q=["title"],G={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},X={key:0,class:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-primary-500 rounded-r"},R=$({__name:"NotificationItem",props:{notification:{}},emits:["read","dismiss","click"],setup(k,{emit:_}){const a=k,u=_,v=p(()=>{switch(a.notification.notification_type){case"comment":case"comment_reply":return"ChatBubbleLeftIcon";case"user_registration":return"UserPlusIcon";case"post_published":case"post_featured":return"DocumentTextIcon";case"system_announcement":return"SpeakerWaveIcon";case"moderation_required":return"ExclamationTriangleIcon";case"post_liked":return"HeartIcon";case"user_followed":return"UserGroupIcon";case"content_approved":return"CheckCircleIcon";case"content_rejected":return"XCircleIcon";default:return"BellIcon"}}),x=p(()=>{const e="text-white";switch(a.notification.notification_type){case"comment":case"comment_reply":return`${e} bg-blue-500`;case"user_registration":return`${e} bg-green-500`;case"post_published":case"post_featured":return`${e} bg-purple-500`;case"system_announcement":return`${e} bg-orange-500`;case"moderation_required":return`${e} bg-red-500`;case"post_liked":return`${e} bg-pink-500`;case"user_followed":return`${e} bg-indigo-500`;case"content_approved":return`${e} bg-green-500`;case"content_rejected":return`${e} bg-red-500`;default:return`${e} bg-gray-500`}}),y=p(()=>{switch(a.notification.priority){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"low":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}}),b=e=>{const o=new Date(e),n=Math.floor((new Date().getTime()-o.getTime())/1e3);return n<60?"Ahora":n<3600?`${Math.floor(n/60)}m`:n<86400?`${Math.floor(n/3600)}h`:n<604800?`${Math.floor(n/86400)}d`:o.toLocaleDateString("es-ES",{day:"numeric",month:"short"})},w=e=>{const o=new Date(e),f=new Date,n=(o.getTime()-f.getTime())/(1e3*60*60);return n>0&&n<=24},C=()=>{u("click",a.notification)},I=()=>{u("read",a.notification.id)},M=()=>{u("dismiss",a.notification.id)};return r("ChatBubbleLeftIcon"),r("UserPlusIcon"),r("DocumentTextIcon"),r("SpeakerWaveIcon"),r("ExclamationTriangleIcon"),r("HeartIcon"),r("UserGroupIcon"),r("CheckCircleIcon"),r("XCircleIcon"),r("BellIcon"),(e,o)=>(s(),i("div",{class:d(["p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",{"bg-blue-50 dark:bg-blue-900/20":!e.notification.is_read,"opacity-75":e.notification.is_read}]),onClick:C},[t("div",j,[t("div",S,[t("div",{class:d(["w-10 h-10 rounded-full flex items-center justify-center",m(x)])},[(s(),B(D(m(v)),{class:"w-5 h-5"}))],2)]),t("div",L,[t("div",V,[t("div",N,[t("p",{class:d(["text-sm font-medium text-gray-900 dark:text-white truncate",{"font-semibold":!e.notification.is_read}])},c(e.notification.title),3),t("p",U,c(e.notification.message),1),t("div",z,[e.notification.sender?(s(),i("span",A,c(e.notification.sender.username),1)):l("",!0),t("span",null,c(b(e.notification.created_at)),1),e.notification.priority!=="normal"?(s(),i("span",{key:1,class:d(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",m(y)])},c(e.notification.priority_display||e.notification.priority),3)):l("",!0),e.notification.expires_at&&w(e.notification.expires_at)?(s(),i("span",H,o[0]||(o[0]=[t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),T(" Expira pronto ",-1)]))):l("",!0)])]),t("div",W,[t("button",{onClick:h(I,["stop"]),class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors",title:e.notification.is_read?"Marcar como no leída":"Marcar como leída"},[e.notification.is_read?(s(),i("svg",G,o[1]||(o[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M12 12v7"},null,-1)]))):(s(),i("svg",P,o[2]||(o[2]=[t("path",{d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M12 12v7"},null,-1)])))],8,q),t("button",{onClick:h(M,["stop"]),class:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded transition-colors",title:"Eliminar notificación"},o[3]||(o[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])])]),e.notification.is_read?l("",!0):(s(),i("div",X))],2))}}),J=E(R,[["__scopeId","data-v-e0686e0b"]]);export{J as _};
